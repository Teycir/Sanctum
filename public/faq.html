<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FAQ - Sanctum</title>
  <link rel="stylesheet" href="/loader.css">
  <style>
    :root {
      --radius: 10.2px;
    }
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      25% { background-position: 100% 50%; }
      50% { background-position: 50% 100%; }
      75% { background-position: 0% 50%; }
    }
    @keyframes haze {
      0%, 100% { opacity: 0.3; transform: scale(1) translate(0, 0) rotate(0deg); }
      25% { opacity: 0.5; transform: scale(1.2) translate(10%, -10%) rotate(5deg); }
      50% { opacity: 0.4; transform: scale(0.9) translate(-10%, 10%) rotate(-5deg); }
      75% { opacity: 0.5; transform: scale(1.1) translate(5%, -5%) rotate(3deg); }
    }
    @keyframes pulse-glow {
      0%, 100% {
        text-shadow: 0 0 5px rgba(255, 255, 255, 0.5), 0 0 10px rgba(200, 150, 255, 0.3);
      }
      50% {
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(200, 150, 255, 0.5), 0 0 30px rgba(200, 150, 255, 0.3);
      }
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: system-ui, sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1520 20%, #0f0f1a 40%, #1a1a2e 60%, #0d0d15 80%, #000 100%);
      background-size: 400% 400%;
      animation: gradientShift 25s ease-in-out infinite;
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at 15% 20%, rgba(13, 71, 161, 0.15) 0%, transparent 50%),
                  radial-gradient(ellipse at 85% 80%, rgba(0, 119, 182, 0.12) 0%, transparent 50%),
                  radial-gradient(circle at 50% 50%, rgba(70, 130, 180, 0.08) 0%, transparent 60%);
      pointer-events: none;
      z-index: 0;
    }
    body::after {
      content: "";
      position: fixed;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle at 30% 40%, rgba(13, 71, 161, 0.15) 0%, transparent 30%),
                  radial-gradient(circle at 70% 60%, rgba(65, 105, 225, 0.12) 0%, transparent 35%),
                  radial-gradient(circle at 50% 80%, rgba(0, 119, 182, 0.1) 0%, transparent 40%);
      filter: blur(100px);
      animation: haze 35s ease-in-out infinite;
      pointer-events: none;
      z-index: 0;
    }
    .container {
      position: relative;
      z-index: 1;
      max-width: 800px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    h1 {
      font-size: clamp(32px, 8vw, 48px);
      font-weight: 700;
      text-align: center;
      margin-bottom: 40px;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.5), 0 0 20px rgba(200, 150, 255, 0.3);
      animation: pulse-glow 8s ease-in-out infinite;
    }
    .faq-item {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(65, 105, 225, 0.3);
      border-radius: var(--radius);
      padding: 20px;
      margin-bottom: 20px;
      transition: all 0.3s ease;
      backdrop-filter: blur(20px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 40px rgba(13, 71, 161, 0.1);
    }
    .faq-item:hover {
      background: rgba(255, 255, 255, 0.12);
      border: 1px solid rgba(65, 105, 225, 0.5);
      box-shadow: 0 6px 24px rgba(0, 0, 0, 0.4), 0 0 50px rgba(65, 105, 225, 0.3);
      transform: translateY(-2px);
    }
    .faq-question {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
      color: #fff;
    }
    .faq-answer {
      font-size: 14px;
      line-height: 1.6;
      color: rgba(255, 255, 255, 0.8);
    }
    .back-link {
      position: absolute;
      top: 20px;
      left: 20px;
      display: inline-flex;
      align-items: center;
      color: rgba(255, 255, 255, 0.7);
      text-decoration: none;
      font-size: 24px;
      transition: all 0.2s;
      z-index: 100;
      cursor: pointer;
    }
    .back-link:hover {
      color: #fff;
      opacity: 1;
    }
    @media (max-width: 768px) {
      .back-link {
        font-size: 20px;
        top: 15px;
        left: 15px;
      }
    }
    @media (max-width: 480px) {
      .back-link {
        font-size: 18px;
        top: 10px;
        left: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="page-loader">
    <div class="lock-icon">üîí</div>
    <div class="loader-text">Initializing Sanctum...</div>
    <div class="loader-bar">
      <div class="loader-progress"></div>
    </div>
  </div>
  <div class="container">
    <a href="/" class="back-link" title="Back to Sanctum">‚Üê</a>
    <h1 id="title" style="cursor: default; user-select: none;">FAQ</h1>
    
    <div class="faq-item">
      <div class="faq-question">What is Sanctum?</div>
      <div class="faq-answer">Sanctum is a zero-trust, client-side encrypted vault system providing cryptographically sound plausible deniability through passphrase-derived hidden layers with decentralized IPFS storage.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">How does plausible deniability work?</div>
      <div class="faq-answer">Sanctum creates two layers: a decoy layer (visible without passphrase) and a hidden layer (revealed with correct passphrase). The hidden layer is cryptographically indistinguishable from the decoy, making it impossible to prove its existence.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">Is my data safe?</div>
      <div class="faq-answer">Yes. All encryption happens client-side in your browser using XChaCha20-Poly1305 with Argon2id key derivation. Your keys never touch our servers. Data is stored encrypted on IPFS.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">Why do I see 2 files on IPFS even with empty decoy?</div>
      <div class="faq-answer">This is a security feature. Duress vaults always upload 2 encrypted blobs (decoy + hidden) to prevent metadata analysis. Even empty blobs are indistinguishable from real data, maintaining plausible deniability.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">What if I lose the vault link?</div>
      <div class="faq-answer">Your data is lost forever. There is no recovery mechanism by design. Always save your vault links securely in a password manager or print QR codes.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">Can I delete a vault?</div>
      <div class="faq-answer">Yes. Vaults auto-destroy based on your chosen duration (1 week, 1 month, 3 months, 6 months, or 12 months). You can also manually delete files from Pinata or Filebase dashboards using the CID (shown after vault creation). Without the vault link, the encrypted data remains inaccessible anyway.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">What are the file size limits?</div>
      <div class="faq-answer">Maximum 25 MB per file. Supported formats: .zip and .rar archives.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">Is Sanctum free?</div>
      <div class="faq-answer">Yes, 100% free. We use free tiers from Pinata (1GB) and Filebase (5GB) for IPFS storage. No credit card required.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">What is the panic key?</div>
      <div class="faq-answer">Double-press Escape to instantly lock your vault. Combined with auto-lock after 5 minutes of inactivity, this protects against physical access threats. Secure clipboard auto-clears after 60 seconds.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">üîê Attack: Physical Duress ($5 Wrench Attack)</div>
      <div class="faq-answer"><strong>Threat:</strong> Coerced to reveal passphrase under torture/violence.<br><strong>Countermeasure:</strong> Reveal decoy passphrase only. Adversary sees funded wallet + innocent files. Cannot cryptographically prove hidden layer exists. Plausible deniability protects you.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">üíª Attack: Device Seizure + Forensic Analysis</div>
      <div class="faq-answer"><strong>Threat:</strong> Device seized, disk forensics performed to recover keys.<br><strong>Countermeasure:</strong> RAM-only storage. No localStorage/sessionStorage for keys. All sensitive data cleared on tab close. Ephemeral salts regenerated per session. Immune to disk carving and SSD wear-leveling recovery.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">üîç Attack: Encrypted Blob Size Analysis</div>
      <div class="faq-answer"><strong>Threat:</strong> Adversary analyzes blob sizes to detect hidden layers.<br><strong>Countermeasure:</strong> Deterministic padding to standard sizes (1KB, 10KB, 100KB, 1MB, 10MB). All vaults same size class look identical. Even empty decoys padded to minimum size.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">‚ö° Attack: Timing Analysis (Side-Channel)</div>
      <div class="faq-answer"><strong>Threat:</strong> Measure decryption time to detect which layer unlocked.<br><strong>Countermeasure:</strong> Constant-time decryption. Both layers always attempted regardless of success. Timing difference <15% (tested). Cannot distinguish decoy from hidden unlock.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">üî® Attack: Passphrase Brute-Force</div>
      <div class="faq-answer"><strong>Threat:</strong> Adversary attempts to brute-force weak passphrases.<br><strong>Countermeasure:</strong> Argon2id KDF with 256MB memory + 3 iterations. Computationally infeasible to brute-force. Use 6+ Diceware words (77 bits entropy). Rate limiting: 5 attempts/min per vault.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">üåê Attack: IPFS Provider Seizure</div>
      <div class="faq-answer"><strong>Threat:</strong> Government seizes Pinata/Filebase servers.<br><strong>Countermeasure:</strong> Data encrypted before upload. Providers only see encrypted blobs. Without passphrase + vault link, decryption impossible. Use multiple providers for redundancy.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">‚òÅÔ∏è Attack: Cloudflare Workers Compromise</div>
      <div class="faq-answer"><strong>Threat:</strong> Attacker compromises Cloudflare D1 database.<br><strong>Countermeasure:</strong> Split-key architecture. KeyA in URL (never server-side). KeyB encrypted in DB. CIDs encrypted with master key. Attacker gets encrypted metadata only. Cannot decrypt vaults or access IPFS content.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">üìä Attack: Metadata Analysis</div>
      <div class="faq-answer"><strong>Threat:</strong> Analyze vault metadata to detect patterns.<br><strong>Countermeasure:</strong> All vaults upload 2 blobs (decoy + hidden) regardless of content. Consistent structure prevents pattern analysis. CIDs encrypted. No IP logging. Use Tor Browser for anonymity.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">üïµÔ∏è Attack: Browser Extension Keylogging</div>
      <div class="faq-answer"><strong>Threat:</strong> Malicious browser extension logs passphrases.<br><strong>Countermeasure:</strong> Extension warning on page load. Recommend disabling extensions before vault creation. Use private/incognito mode. Consider Tor Browser (no extensions).</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">üö® Attack: Rubber-Hose Cryptanalysis (Ongoing Coercion)</div>
      <div class="faq-answer"><strong>Threat:</strong> Prolonged coercion to reveal all layers.<br><strong>Countermeasure:</strong> Your safety > data security. Reveal decoy layer. Adversary cannot prove hidden layer exists. If threatened with violence, comply with decoy. Cryptography protects hidden layer. Self-host + Tor for maximum security.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">üîó Attack: Vault Link Interception</div>
      <div class="faq-answer"><strong>Threat:</strong> Adversary intercepts vault link during transmission.<br><strong>Countermeasure:</strong> Never share links over unencrypted channels (SMS, email). Use encrypted messaging (Signal, Session). Store in password manager (KeePassXC, Bitwarden). Print QR code for physical backup. KeyA in URL is useless without passphrase.</div>
    </div>

    <div class="faq-item">
      <div class="faq-question">‚öñÔ∏è Attack: Legal Compulsion (Warrant Canary)</div>
      <div class="faq-answer"><strong>Threat:</strong> Government compels service to backdoor encryption.<br><strong>Countermeasure:</strong> Warrant canary updated quarterly. If removed/not updated >90 days, assume compromise. Self-host immediately. Client-side encryption prevents server-side backdoors. Open-source code auditable.</div>
    </div>
  </div>
  <script src="/footer.js"></script>
  <script>
    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&*()_+-=[]{}|;:,.<>?';
    const title = document.getElementById('title');
    const text = 'FAQ';
    let iteration = 0;
    const maxIterations = 20;
    const speed = 75;
    
    const interval = setInterval(() => {
      title.textContent = text.split('').map((char, index) => {
        if (char === ' ') return ' ';
        if (iteration >= maxIterations) return char;
        if (Math.random() < 0.1 * iteration) return char;
        return chars[Math.floor(Math.random() * chars.length)];
      }).join('');
      
      if (iteration >= maxIterations) {
        title.textContent = text;
        title.classList.add('text-pressure');
        clearInterval(interval);
        // Initialize text pressure after scramble completes
        if (typeof window.initTextPressure === 'function') {
          window.initTextPressure('#title');
        }
      }
      iteration++;
    }, speed);
  </script>
  <script src="/loader.js"></script>
  <script src="/eye-candy.js"></script>
  <script src="/text-animations.js"></script>
</body>
</html>
