<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warrant Canary - Sanctum</title>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="/loader.css">
    <style>
        :root {
            --radius: 10.2px;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1520 20%, #0f0f1a 40%, #1a1a2e 60%, #0d0d15 80%, #000 100%);
            background-size: 400% 400%;
            animation: gradientShift 25s ease-in-out infinite;
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 50% 100%; }
            75% { background-position: 0% 50%; }
            100% { background-position: 0% 50%; }
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(ellipse at 15% 20%, rgba(13, 71, 161, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 85% 80%, rgba(0, 119, 182, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(70, 130, 180, 0.08) 0%, transparent 60%);
            pointer-events: none;
            z-index: 0;
        }

        body::after {
            content: "";
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background:
                radial-gradient(circle at 30% 40%, rgba(13, 71, 161, 0.15) 0%, transparent 30%),
                radial-gradient(circle at 70% 60%, rgba(65, 105, 225, 0.12) 0%, transparent 35%),
                radial-gradient(circle at 50% 80%, rgba(0, 119, 182, 0.1) 0%, transparent 40%);
            filter: blur(100px);
            animation: haze 35s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes haze {
            0%, 100% {
                opacity: 0.3;
                transform: scale(1) translate(0, 0) rotate(0deg);
            }
            25% {
                opacity: 0.5;
                transform: scale(1.2) translate(10%, -10%) rotate(5deg);
            }
            50% {
                opacity: 0.4;
                transform: scale(0.9) translate(-10%, 10%) rotate(-5deg);
            }
            75% {
                opacity: 0.5;
                transform: scale(1.1) translate(5%, -5%) rotate(3deg);
            }
        }

        .container {
            max-width: 900px;
            width: 100%;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .title {
            font-size: clamp(28px, 6vw, 42px);
            font-weight: 700;
            margin-bottom: 12px;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5), 0 0 20px rgba(200, 150, 255, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 10px rgba(255, 255, 255, 0.5), 0 0 20px rgba(200, 150, 255, 0.3); }
            to { text-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 0 0 30px rgba(200, 150, 255, 0.5); }
        }

        .subtitle {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
        }

        .card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(65, 105, 225, 0.3);
            border-radius: var(--radius);
            padding: 24px;
            margin-bottom: 20px;
            backdrop-filter: blur(20px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 40px rgba(13, 71, 161, 0.1);
        }

        .status-card {
            border-image: linear-gradient(135deg, rgba(0, 255, 100, 0.5), rgba(0, 255, 100, 0.2)) 1;
            background: rgba(0, 255, 100, 0.08);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 40px rgba(0, 255, 100, 0.2);
        }

        .status-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .status-icon {
            width: 32px;
            height: 32px;
            color: #00ff64;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-title {
            font-size: 24px;
            font-weight: 700;
            color: #00ff64;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.3);
            padding: 16px;
            border-radius: 8px;
            border: 1px solid rgba(0, 255, 100, 0.2);
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .info-label {
            font-size: 12px;
            color: rgba(65, 105, 225, 0.8);
            font-weight: 600;
        }

        .info-value {
            font-size: 16px;
            color: #4169e1;
            font-family: 'Courier New', monospace;
        }

        .info-hint {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.4);
            margin-top: 2px;
        }

        .verify-box {
            background: rgba(255, 193, 7, 0.1);
            border: 2px solid rgba(255, 193, 7, 0.4);
            border-radius: var(--radius);
            padding: 20px;
            margin-top: 16px;
        }

        .verify-title {
            font-size: 14px;
            color: #ffc107;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .verify-text {
            font-size: 13px;
            color: rgba(255, 193, 7, 0.8);
            margin-bottom: 16px;
        }

        .verify-btn {
            background: rgba(255, 193, 7, 0.2);
            border: 2px solid #ffc107;
            color: #ffc107;
            padding: 12px 24px;
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Courier New', monospace;
        }

        .verify-btn:hover {
            background: #ffc107;
            color: #000;
            box-shadow: 0 0 20px rgba(255, 193, 7, 0.5);
        }

        .checklist {
            list-style: none;
        }

        .checklist li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 12px;
            padding: 8px;
            border-radius: 6px;
            transition: background 0.2s;
        }

        .checklist li:hover {
            background: rgba(13, 71, 161, 0.1);
        }

        .check-icon {
            color: #00ff64;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .check-text {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #4169e1;
            margin-bottom: 16px;
        }

        .info-text {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .info-text strong {
            color: #4169e1;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            display: inline-flex;
            align-items: center;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            font-size: 24px;
            transition: all 0.2s;
            z-index: 100;
            cursor: pointer;
        }

        .back-btn:hover {
            color: #fff;
            opacity: 1;
        }

        @media (max-width: 768px) {
            .back-btn {
                font-size: 20px;
                top: 15px;
                left: 15px;
            }
        }

        @media (max-width: 480px) {
            .back-btn {
                font-size: 18px;
                top: 10px;
                left: 10px;
            }
        }

        .footer {
            text-align: center;
            margin-top: 32px;
        }
    </style>
</head>
<body>
    <div class="page-loader">
        <div class="lock-icon">üîí</div>
        <div class="loader-text">Initializing Sanctum...</div>
        <div class="loader-bar">
            <div class="loader-progress"></div>
        </div>
    </div>
    <div class="container">
        <div class="header">
            <h1 class="title text-pressure" id="title" style="cursor: default; user-select: none;">WARRANT CANARY</h1>
            <p class="subtitle">Live Transparency Status</p>
        </div>

        <div class="card status-card">
            <div class="status-header">
                <svg class="status-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <h2 class="status-title">STATUS: OPERATIONAL</h2>
            </div>

            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">Last Updated:</span>
                    <span class="info-value" id="current-date"></span>
                    <span class="info-hint">Generated on page load. If old, assume compromise.</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Unix Timestamp:</span>
                    <span class="info-value" id="unix-timestamp"></span>
                    <span class="info-hint">Proof of freshness - updates on every visit.</span>
                </div>
            </div>

            <div class="verify-box">
                <div class="verify-title">üîç VERIFY THIS CANARY IS LIVE:</div>
                <p class="verify-text">Click the button below multiple times and watch the timestamp change. Each refresh generates a NEW timestamp proving this canary is actively updating.</p>
                <button class="verify-btn" onclick="location.reload()">‚ü≥ REFRESH & VERIFY</button>
            </div>
        </div>

        <div class="card">
            <h3 class="section-title">Security Checklist</h3>
            <ul class="checklist">
                <li>
                    <span class="check-icon">‚úì</span>
                    <span class="check-text">No warrants, subpoenas, or national security letters received</span>
                </li>
                <li>
                    <span class="check-icon">‚úì</span>
                    <span class="check-text">No gag orders in effect</span>
                </li>
                <li>
                    <span class="check-icon">‚úì</span>
                    <span class="check-text">No government requests for user data</span>
                </li>
                <li>
                    <span class="check-icon">‚úì</span>
                    <span class="check-text">No forced vault unlock requests</span>
                </li>
                <li>
                    <span class="check-icon">‚úì</span>
                    <span class="check-text">Infrastructure remains under operator control</span>
                </li>
                <li>
                    <span class="check-icon">‚úì</span>
                    <span class="check-text">No backdoors or compromises known</span>
                </li>
            </ul>
        </div>

        <div class="card">
            <h3 class="section-title">What is a Warrant Canary?</h3>
            <p class="info-text"><strong>Definition:</strong> A warrant canary is a method to inform users that a service has NOT received secret government requests (warrants, subpoenas, gag orders). If the canary disappears or stops updating, it signals potential compromise.</p>
            <p class="info-text"><strong>How this works:</strong> This page is automatically generated on every visit with the current timestamp. No manual updates needed. If you can see this page with today's date, Sanctum infrastructure is operational and uncompromised.</p>
            <p class="info-text"><strong>What to watch for:</strong> If this page returns an error, shows outdated information, any checkmark is missing, or the timestamp is not current, assume compromise.</p>
            <p class="info-text"><strong>Why it matters:</strong> Some government requests come with gag orders preventing disclosure. By regularly stating we have NOT received such requests, we can signal compromise by simply stopping updates (which is legal even under gag orders).</p>
            <p class="info-text"><strong>Verification:</strong> Bookmark this page and check it monthly. The timestamp should always be current when you visit.</p>
        </div>

        <div class="card">
            <h3 class="section-title">Technical Implementation</h3>
            <p class="info-text">‚Ä¢ <strong>Auto-Generated:</strong> This page renders with current timestamp on every request</p>
            <p class="info-text">‚Ä¢ <strong>No Database:</strong> No stored canary file that could be seized or tampered with</p>
            <p class="info-text">‚Ä¢ <strong>Open Source:</strong> Code is publicly auditable on GitHub</p>
            <p class="info-text">‚Ä¢ <strong>Edge Deployed:</strong> Runs on Cloudflare Pages distributed infrastructure</p>
            <p class="info-text">‚Ä¢ <strong>Legal Compliance:</strong> Stopping updates is legal even under gag orders (we simply don't make false statements)</p>
        </div>

        <div class="footer">
            <a href="/" class="back-btn" title="Back to Sanctum">‚Üê</a>
        </div>
    </div>
    <script src="/footer.js"></script>

    <script>
        // Update timestamps
        const now = new Date();
        const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        const formattedDate = `${months[now.getMonth()]} ${now.getDate()}, ${now.getFullYear()}`;
        document.getElementById('current-date').textContent = formattedDate;
        document.getElementById('unix-timestamp').textContent = Math.floor(now.getTime() / 1000);

        // Animate title
        const title = document.getElementById('title');
        const text = 'WARRANT CANARY';
        const chars = '!@#$%^&*()_+-=[]{}|;:,.<>?/~`';
        let iterations = 0;

        function animateTitle() {
            title.textContent = text.split('').map((char, index) => {
                if (index < iterations) {
                    return text[index];
                }
                return chars[Math.floor(Math.random() * chars.length)];
            }).join('');

            if (iterations < text.length) {
                iterations += 1/3;
                requestAnimationFrame(animateTitle);
            } else {
                title.textContent = text;
                // Initialize text pressure after scramble completes
                if (typeof window.initTextPressure === 'function') {
                    window.initTextPressure('#title');
                }
            }
        }

        animateTitle();
    </script>
    <script src="/loader.js"></script>
    <script src="/text-animations.js"></script>
</body>
</html>
